graph TD
    A[Client] -->|Upload Request| B[FastAPI Endpoint<br/>/upload]
    B --> C[Coordinator Agent]
    C --> D[Ingestion Agent]
    D --> E[Document Processor]
    E --> F[Embedding Service]
    F --> G[Vector Store<br/>Pinecone]
    
    %% Response chain
    G -->|Success/Failure| F
    F -->|Processing Complete| E
    E -->|Document Processed| D
    D -->|Ingestion Complete| C
    C -->|Response| B
    B -->|HTTP Response| A
    
    %% Styling
    classDef client fill:#e1f5fe,stroke:#01579b,stroke-width:2px
    classDef api fill:#f3e5f5,stroke:#4a148c,stroke-width:2px
    classDef agent fill:#e8f5e8,stroke:#1b5e20,stroke-width:2px
    classDef processor fill:#fff3e0,stroke:#e65100,stroke-width:2px
    classDef storage fill:#fce4ec,stroke:#880e4f,stroke-width:2px
    
    class A client
    class B api
    class C,D agent
    class E,F processor
    class G storage