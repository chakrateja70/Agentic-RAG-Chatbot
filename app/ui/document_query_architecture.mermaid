graph TD
    A[Client] -->|Query Request| B[FastAPI Endpoint<br/>/query]
    B --> C[Coordinator Agent]
    C --> D[Retrieval Agent]
    D --> E[Vector Store<br/>Pinecone Search]
    C --> F[LLM Response Agent]
    F --> G[Groq LLM Service<br/>Llama Model]
    
    %% Response chain
    E -->|Retrieved Context| C
    G -->|Generated Answer| F
    F -->|LLM Response| C
    C -->|Combined Result| B
    B -->|HTTP Response| A
    
    %% Styling
    classDef client fill:#e1f5fe,stroke:#01579b,stroke-width:2px
    classDef api fill:#f3e5f5,stroke:#4a148c,stroke-width:2px
    classDef agent fill:#e8f5e8,stroke:#1b5e20,stroke-width:2px
    classDef service fill:#fff3e0,stroke:#e65100,stroke-width:2px
    classDef storage fill:#fce4ec,stroke:#880e4f,stroke-width:2px
    
    class A client
    class B api
    class C,D,F agent
    class G service
    class E storage
